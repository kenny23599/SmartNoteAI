<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="website icon" href="AI NOTE.svg" type="svg">
    <title>SmartNote | Log in</title>
    <script src="auth.js"></script>
</head>
<style>
    .div{
            display: none;
        }

        

        @media screen and (max-width:450px) {
            .body{
                color: white;
                margin: 0%;
                overflow: hidden;
                
            }

            .div{
                margin-top: 10%;
                display: block;
            }

            .logo{
                width: 40%;
                height: 150px;
                margin-left: 30%;
                margin-right: 30%;
            }

            .h1{
                
                color: black;
                font-size: 25px;
                text-align: center;
                color: rgb(55, 55, 241);
                margin-top: opx;

                
            }

            .email{
                padding: 15px;
                width: 90%;
                border-style:inherit;
                border-color: rgb(55, 55, 241);
                border-radius: 5px;
                background-color: rgb(245, 245, 245);
                font-size: 15px;
                outline-color: rgb(30, 144, 255);

            }

            .password{
                padding: 15px;
                width: 90%;
                border-style:inherit;
                border-color: rgb(55, 55, 241);
                border-radius: 5px;
                background-color: rgb(245, 245, 245);
                font-size: 15px;
                outline-color: rgb(30, 144, 255);
            }

            .button{
                color: rgb(255, 255, 255);
                background-color: rgb(30, 144, 255);
                border-radius: 10px;
                border-style: none;
                padding: 15px;
                width: 95%;
                margin-left: 1.5%;
                margin-right: 1.5%;
                margin-top: 10%;
                font-size: 15px;
                
                
                

            }
            .p{
                text-align: center;
            }
            .btn{
                color: rgb(10, 10, 10);
                background-color: rgb(252, 252, 252);
                border-radius: 10px;
                border-style:ridge;
                border-color: rgb(206, 211, 209);
                border-width: thin;
                padding: 10px;
                width: 95%;
                margin-left: 1.5%;
                margin-right: 1.5%;
                margin-top: 5%;
                font-size: 15px;

            }
            .svg{
            
                width: 20px;
                height: 20px;
                margin-right: 10px;
                
            }

            .blur{
                    width: 100%;
                    height: 900px;
                    position:absolute;
                    background-color: rgba(0, 0, 0, 0.623);
                    display:none;
                    top: 0%;
                    left: 0%;
                    overflow-x: hidden;
                    
                }
                .Signup{
                    margin-left: 5%;
                    width: 90%;
                    height: 500px;
                    background-color: rgb(255, 255, 255);
                    border-radius: 10px;
                    padding-top: 10px;
                    margin-top: 100px;
                }

                .text{
                    padding: 15px;
                    width: 85%;
                    margin-left: 2%;
                    border-style:inherit;
                    border-color: rgb(55, 55, 241);
                    border-radius: 5px;
                    background-color: rgb(245, 245, 245);
                    font-size: 15px;
                    outline-color: rgb(30, 144, 255);

                }


                .Mainlogo{
                    width: 40%;
                    height: 150px;
                    margin-left: 30%;
                    margin-right: 30%;
                }
        }

                
</style>
<script src="https://cdn.tailwindcss.com"></script>
<body>
    
    
        <!--Signup-->

    <!--Login-->
    <div class="div">
    <body class="flex flex-col items-center justify-center h-screen bg-gray-100">
    <img src="AI NOTE.svg" class="logo">
    <div class="bg-white p-8 rounded shadow w-full max-w-sm text-center">
    <h2 class="text-xl font-bold mb-4">Login with Google</h2>

    <button id="loginBtn" class="bg-blue-600 text-white px-4 py-2 rounded mb-4">
      Sign in with Google
    </button>
    </div>

    <div id="userInfo" class="hidden">
      <img id="userPhoto" class="w-16 h-16 rounded-full mx-auto mb-2" />
      <p><strong>Name:</strong> <span id="userName"></span></p>
      <p><strong>Email:</strong> <span id="userEmail"></span></p>
      <button id="logoutBtn" class="mt-4 text-red-500 underline">Logout</button>
    </div>
  </div>


  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";

    
    const firebaseConfig = {
        apiKey: "AIzaSyAs-woLjwy4BhQzyutYh8I2h3-jzhe_kY4",
        authDomain: "smartnote-ai-d2dd1.firebaseapp.com",
        projectId: "smartnote-ai-d2dd1",
        storageBucket: "smartnote-ai-d2dd1.firebasestorage.app",
        messagingSenderId: "982239102580",
        appId: "1:982239102580:web:0f38bccf724cf6e5a17321",
        measurementId: "G-79Y1C2GMLC"       
};

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    const loginBtn = document.getElementById("loginBtn");
    const logoutBtn = document.getElementById("logoutBtn");
    const userInfo = document.getElementById("userInfo");
    const userName = document.getElementById("userName");
    const userEmail = document.getElementById("userEmail");
    const userPhoto = document.getElementById("userPhoto");
    const dashboard = document.location

    loginBtn.onclick = () => signInWithPopup(auth, provider);

    

    onAuthStateChanged(auth, user => {
      if (user) {
        loginBtn.style.display = "none";
        userInfo.classList.remove("hidden");

        userName.textContent = user.displayName;
        userEmail.textContent = user.email;
        userPhoto.src = user.photoURL;

        dashboard = 'dashboard.html'
 
      } else {
        loginBtn.style.display = "block";
        userInfo.classList.add("hidden");
        document.location = 'log_in.html'
      }
    });
  </script>





</body>
</html>
